/**
 * Фабричная функция для создания обработчика поискового запроса.
 * 
 * Создает и возвращает функцию, которая проверяет наличие поискового термина
 * в указанном поле состояния. Если термин присутствует, добавляет его в объект запроса.
 * 
 * @param {string} searchField - Название поля в состоянии, содержащего поисковый термин
 * @returns {Function} Функция-обработчик с сигнатурой (query, state, action) => модифицированныйQuery
 */
export function initSearching(searchField) {
    /**
     * Модифицирует объект запроса в зависимости от наличия поискового термина
     * 
     * @param {Object} query - Исходные параметры запроса
     * @param {Object} state - Состояние приложения, которое может содержать поисковый термин
     * @param {Object} action - (Не используется) Объект действия Redux
     * @returns {Object} Возвращает либо исходный запрос, либо запрос с добавленным поисковым термином
     */
    return (query, state, action) => {
        // Модифицируем запрос только если в состоянии есть поисковый термин
        return state[searchField] 
            ? Object.assign({}, query, {
                search: state[searchField] // Создаем копию с добавленным поисковым термином
            }) 
            : query; // Возвращаем исходный запрос если термина нет
    };
}